<script>
  const music = document.getElementById("bgMusic");
  const musicBtn = document.getElementById("musicBtn");

  let musicOn = false;

  async function toggleMusic(){
    try{
      if(!musicOn){
        await music.play();              // requires user gesture on mobile
        musicOn = true;
        musicBtn.textContent = "â¸ï¸ Pause Music";
        toast("Music on ðŸŽµ");
      }else{
        music.pause();
        musicOn = false;
        musicBtn.textContent = "â–¶ï¸ Play Music";
        toast("Music paused");
      }
    }catch(e){
      // If play is blocked, tell user to tap again or check mute
      toast("Tap again to allow audio ðŸ”Š");
    }
  }

  musicBtn.addEventListener("click", toggleMusic);
  musicBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); toggleMusic(); }, { passive:false });
</script>
